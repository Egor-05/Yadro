# Общие принципы работы сервиса:

## Структура проекта

```
├── .gitignore               # Файл исключений для git
├── .env                     # Переменные окружения
├── .env.example             # Пример переменных окружения
├── Dockerfile               # Файл сборки docker образа
├── docker-compose.yml       # запуск проекта
├── docker-compose-tests.yml # запуск тестов проекта
├── migrations               # Папка с миграциями и настройками alembic
    ├── versions             # Папка с миграциями
    └── alembic.ini          # конфигурация alembic
├── database.py              # Подключение к базе данных
├── models.py                # Модели базы данных
├── main.py                  # Обработчики приложения
├── requirements.txt         # Список пакетов для установки
└── tests.py                 # Тесты
```


## Основные функции (main.py):
### Валидация графов:

 - graph_data_validation - проверяет корректность графа:
   - Отсутствие повторяющихся имен узлов
   - Отсутствие ссылок на несуществующие узлы в ребрах
   - Отсутствие циклов
 - is_acyclic - проверяет граф на ацикличность с помощью алгоритма обхода в глубину (DFS)

### Обработчики API
 - create_graph - создание нового графа
 - get_graph - получение графа (вершины и ребра)
 - get_adjacency_list - получение матрицы смежности
 - get_reverse_adjacency_list - получение транспонированной матрицы смежности
 - delete_node - удаление узла графа

## Перед запуском:
1. Необходимо создать файл .env, используя .env.example, как шаблон
2. Указать название, логин и пароль для базы данных, если необходимо

## Для запуска приложения:
```commandline
docker-compose up -d --build
```

Приложение будет доступно на [http://localhost:8080](http://localhost:8080)

## Для запуска тестов:
```commandline
docker-compose -f docker-compose-tests.yml up --build --abort-on-container-exit
```


